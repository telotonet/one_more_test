# Описание проекта

Этот проект представляет собой реализацию веб-приложения на Django Rest Framework для управления организациями, мероприятиями и обеспечения чата между пользователями с использованием технологии Web Socket.

## Основные функции

- Создание и управление организациями.
- Создание и управление мероприятиями.
- Вывод информации о мероприятиях с возможностью фильтрации, сортировки и поиска.
- Реализация чата между пользователями с использованием технологии Web Socket.
- Аутентификация пользователя с помощью JWT Token.
- Использование Docker для запуска проекта.

## Требования к окружению

Для запуска проекта вам потребуется установить Docker и Docker Compose.

## Запуск проекта

1. Клонируйте репозиторий:

```bash
git clone https://github.com/telotonet/one_more_test.git
```

2. Перейдите в директорию проекта:

```bash
cd proj_folder
```

3. Создайте файл `.env` и укажите в нем необходимые переменные окружения, либо используйте значение из .env.example:

```
SECRET_KEY=your_secret_key
```

4. Соберите и запустите контейнеры Docker:

```bash
docker-compose up --build
```
5. Совершите миграции базы данных:
```bash
docker-compose run django python manage.py makemigrations
docker-compose run django python manage.py migrate
```
6. Создайте админа:
 ```bash
docker-compose run django python manage.py createsuperuser
```
6. После успешного запуска, вы сможете получить доступ к API и веб-приложению по адресу [http://localhost:8000/](http://localhost:8000/).

## Описание API

1. `POST /api/create/organization/`: Создание новой организации.
2. `POST /api/create/event/`: Создание нового мероприятия.
3. `GET /events/<id>/`: Получение информации о мероприятии по его идентификатору.
4. `GET /events/`: Получение списка мероприятий с возможностью фильтрации, сортировки и поиска.


## Получение JSON Web Token
Для получения JWT необходимо выполнить POST запрос по адресу /auth/jwt/create/, передав в теле запроса email и пароль зарегистрированного пользователя.
Для дальнейшей аутентификации использовать access-token в параметре headers Authentication: JWT (your JWT)
Для подключения к вебсокету использовать JWT в качестве параметра token

## Запуск онлайн-чата

Для запуска онлайн-чата между пользователями, необходимо выполнить следующие действия:

1. Убедитесь, что Docker контейнеры запущены.
2. Создайте чат, отправив POST запрос по адресу /chats/.
3. Перейдите в созданный чат по адресу ws://localhost:8000/ws/chat/<id>/?token=(ваш access токен)

Данный проект разработан исключительно в учебных целях.
